!function(n){"use strict";n.module("angular-socket.io",[]).provider("$socket",function(){function n(n,t,e){if(typeof t!=e)throw new TypeError("'"+n+"' must be of type '"+e+"'");o[n]=t}var t="",o={transports:["websocket"]};this.setConnectionUrl=function(n){if("string"!=typeof n)throw new TypeError("url must be a string");t=n},this.setResource=function(t){n("resource",t,"string")},this.setConnectTimeout=function(t){n("connect timeout",t,"number")},this.setTryMultipleTransports=function(t){n("try multiple transports",t,"boolean")},this.setReconnect=function(t){n("reconnect",t,"boolean")},this.setReconnectionDelay=function(t){n("reconnection delay",t,"number")},this.setReconnectionLimit=function(t){n("reconnection limit",t,"number")},this.setMaxReconnectionAttempts=function(t){n("max reconnection attempts",t,"number")},this.setSyncDisconnectOnUnload=function(t){n("sync disconnect on unload",t,"boolean")},this.setAutoConnect=function(t){n("auto connect",t,"boolean")},this.setFlashPolicyPort=function(t){n("flash policy port",t,"number")},this.setForceNewConnection=function(t){n("force new connection",t,"boolean")},this.$get=["$rootScope","$timeout",function(n,e){var i=void 0;return{setUrl:function(n){if("String"==typeof n)throw new TypeError("url must be a string");t=n},setConfig:function(n){if("Object"!=typeof n)throw new TypeError("config must be an Object");o=n},connect:function(){console.log(i),console.log(t),console.log(o),void 0!==i?i.connected||(i=io(t,o)):i=io(t,o)},disconnect:function(){i.disconnect(),i=void 0},isConnected:function(){return void 0!==i?i.connected:!1},getInstance:function(){return i},on:function(t,o){if(void 0===i)throw new Error("socket is undefined");i.on(t,function(){var t=arguments;e(function(){n.$apply(function(){o.apply(i,t)})},0)})},off:function(n,t){if(void 0===i)throw new Error("socket is undefined");"function"==typeof t?i.removeListener(n,t):i.removeAllListeners(n)},emit:function(t,o,c){if(void 0===i)throw new Error("socket is undefined");"function"==typeof c?i.emit(t,o,function(){var t=arguments;e(function(){n.$apply(function(){c.apply(i,t)})},0)}):i.emit(t,o)}}}]})}(angular);